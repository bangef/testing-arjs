<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<title>LBAR - Tugu Kujang Bogor</title>
		<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
		<script
			type="text/javascript"
			src="https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex-location-only.js"
		></script>
		<script
			type="text/javascript"
			src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"
		></script>
		<script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
		<style>
			* {
				padding: 0;
				margin: 0;
				box-sizing: border-box;
			}
			#scene {
				width: 100%;
				height: 100%;
				overflow: hidden;
			}
		</style>
		<script>
			AFRAME.registerComponent("play-video", {
				init: function () {
					const footageBogorVideo = document.getElementById("footageBogor");
					const canvas = document.getElementsByClassName("a-canvas");
					this.el.addEventListener("click", function () {
						if (footageBogorVideo.paused) {
							footageBogorVideo.play();
							console.log("on");
						} else {
							footageBogorVideo.pause();
							console.log("off");
						}
					});
				},
			});
		</script>
	</head>
	<body>
		<a-scene
			id="scene"
			vr-mode-ui="enabled: false"
			arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false;"
			renderer="antialias: true; alpha: true"
		>
			<a-camera
				gps-camera="simulateLatitude:-6.602070480358665;simulateLongitude:106.80296018864688;gpsMinDistance:50"
				rotation-reader
			>
				<a-cursor></a-cursor>
			</a-camera>
			<a-assets>
				<video id="footageBogor" loop crossorigin="anonymous" webkit-playsinline>
					<source src="./src/videos/footage-bogor.mp4" type="video/mp4" />
				</video>
				<a-asset-item
					id="bdsTuguKujang"
					src="./src/models/bds-tugu-kujang.glb"
				></a-asset-item>
				<a-asset-item
					id="mallBotaniSquare"
					src="./src/models/mall-botani-square.glb"
				></a-asset-item>
				<a-asset-item
					id="tuguKujang"
					src="./src/models/tugu-kujang.glb"
				></a-asset-item>
			</a-assets>

			<a-video
				play-video
				src="#footageBogor"
				width="16"
				height="9"
				scale="25 25 25"
				look-at="[gps-camera]"
				position="0 230 0"
				gps-entity-place="latitude: -6.601180586224578;longitude:106.80509525758612"
			></a-video>
			<a-gltf-model
				src="#bdsTuguKujang"
				scale="10 20 10"
				look-at="[gps-camera]"
				gps-entity-place="latitude:-6.394210843382127;longitude:106.84644321137985"
				animation="property: rotation; to: 0 360 0; dur: 100000; easing: linear; loop: true"
			></a-gltf-model>
			<a-gltf-model
				src="#bdsTuguKujang"
				scale="10 20 10"
				look-at="[gps-camera]"
				gps-entity-place="latitude:-6.601471714351664;longitude:106.8048409815005"
				animation="property: rotation; to: 0 360 0; dur: 100000; easing: linear; loop: true"
			></a-gltf-model>
			<a-gltf-model
				src="#mallBotaniSquare"
				scale="10 20 10"
				gps-entity-place="latitude:-6.601393740337289;longitude:106.8068655154671"
				animation="property: rotation; to: 0 360 0; dur: 100000; easing: linear; loop: true"
			></a-gltf-model>
			<a-gltf-model
				src="#tuguKujang"
				scale="10 20 10"
				gps-entity-place="latitude: -6.601180586224578;longitude:106.80509525758612"
				animation="property: rotation; to: 0 360 0; dur: 100000; easing: linear; loop: true"
			></a-gltf-model>
		</a-scene>
	</body>
</html>
